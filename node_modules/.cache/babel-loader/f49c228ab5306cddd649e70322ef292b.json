{"ast":null,"code":"var _jsxFileName = \"/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport OfferService from \"../../services/offer.service\";\nimport { OfferActions } from \"./OfferListConstants\";\nimport { OfferDelete } from \"./OfferDelete\";\nimport { OfferEdit } from \"./OfferEdit\";\nimport \"./Catalog.css\";\nimport { OfferView } from \"./OfferView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Catalog() {\n  _s();\n\n  const [offers, setOffers] = useState([]);\n  const [userAction, setUserAction] = useState({\n    offer: null,\n    action: null\n  });\n  useEffect(() => {\n    OfferService.getAllOffers().then(offer => setOffers(offer.data));\n  }, []);\n\n  const userActionClickHandler = (offerId, actionType) => {\n    OfferService.getOfferById(offerId).then(offer => {\n      setUserAction({\n        offer,\n        action: actionType\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OfferService.getAllOffers().then(offers => setOffers(offers.data));\n  };\n\n  const deleteHandler = offerId => {\n    setOffers(state => state.filter(offer => offer.id !== offerId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({\n      user: null,\n      action: null\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userAction.action === OfferActions.Delete && /*#__PURE__*/_jsxDEV(OfferDelete, {\n      offer: userAction.order,\n      onClose: closeHandler,\n      deleteHandler: deleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), userAction.action === OrderActions.Edit && /*#__PURE__*/_jsxDEV(OfferEdit, {\n      offer: userAction.offer,\n      onClose: closeHandler,\n      onChange: onChangeHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: offers.map(offer => /*#__PURE__*/_jsxDEV(OrderdView, {\n          offer: offer,\n          onActionClick: userActionClickHandler\n        }, offer.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Catalog, \"t/rTjMMIRBHrZ2ZWeSn2I6EJtjk=\");\n\n_c = Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["useState","useEffect","OfferService","OfferActions","OfferDelete","OfferEdit","OfferView","Catalog","offers","setOffers","userAction","setUserAction","offer","action","getAllOffers","then","data","userActionClickHandler","offerId","actionType","getOfferById","onChangeHandler","deleteHandler","state","filter","id","closeHandler","user","Delete","order","OrderActions","Edit","map"],"sources":["/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport OfferService from \"../../services/offer.service\";\nimport { OfferActions } from \"./OfferListConstants\";\nimport { OfferDelete } from \"./OfferDelete\";\nimport { OfferEdit } from \"./OfferEdit\";\nimport \"./Catalog.css\";\n\nimport { OfferView } from \"./OfferView\";\n\nexport function Catalog() {\n  const [offers, setOffers] = useState([]);\n  const [userAction, setUserAction] = useState({ offer: null, action: null });\n\n  useEffect(() => {\n    OfferService.getAllOffers().then((offer) => setOffers(offer.data));\n  }, []);\n\n  const userActionClickHandler = (offerId, actionType) => {\n    OfferService.getOfferById(offerId).then((offer) => {\n      setUserAction({\n        offer,\n        action: actionType,\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OfferService.getAllOffers().then((offers) => setOffers(offers.data));\n  };\n\n  const deleteHandler = (offerId) => {\n    setOffers((state) => state.filter((offer) => offer.id !== offerId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({ user: null, action: null });\n  };\n\n  return (\n    <>\n      {userAction.action === OfferActions.Delete && (\n        <OfferDelete\n          offer={userAction.order}\n          onClose={closeHandler}\n          deleteHandler={deleteHandler}\n        />\n      )}\n\n      {userAction.action === OrderActions.Edit && (\n        <OfferEdit\n          offer={userAction.offer}\n          onClose={closeHandler}\n          onChange={onChangeHandler}\n        />\n      )}\n\n      <div className=\"container mt-100\">\n        <div className=\"row\">\n          {offers.map((offer) => (\n            <OrderdView\n              offer={offer}\n              key={offer.id}\n              onActionClick={userActionClickHandler}\n            />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAO,eAAP;AAEA,SAASC,SAAT,QAA0B,aAA1B;;;AAEA,OAAO,SAASC,OAAT,GAAmB;EAAA;;EACxB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC;IAAEY,KAAK,EAAE,IAAT;IAAeC,MAAM,EAAE;EAAvB,CAAD,CAA5C;EAEAZ,SAAS,CAAC,MAAM;IACdC,YAAY,CAACY,YAAb,GAA4BC,IAA5B,CAAkCH,KAAD,IAAWH,SAAS,CAACG,KAAK,CAACI,IAAP,CAArD;EACD,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMC,sBAAsB,GAAG,CAACC,OAAD,EAAUC,UAAV,KAAyB;IACtDjB,YAAY,CAACkB,YAAb,CAA0BF,OAA1B,EAAmCH,IAAnC,CAAyCH,KAAD,IAAW;MACjDD,aAAa,CAAC;QACZC,KADY;QAEZC,MAAM,EAAEM;MAFI,CAAD,CAAb;IAID,CALD;EAMD,CAPD;;EASA,MAAME,eAAe,GAAG,MAAM;IAC5BnB,YAAY,CAACY,YAAb,GAA4BC,IAA5B,CAAkCP,MAAD,IAAYC,SAAS,CAACD,MAAM,CAACQ,IAAR,CAAtD;EACD,CAFD;;EAIA,MAAMM,aAAa,GAAIJ,OAAD,IAAa;IACjCT,SAAS,CAAEc,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAcZ,KAAD,IAAWA,KAAK,CAACa,EAAN,KAAaP,OAArC,CAAZ,CAAT;EACD,CAFD;;EAIA,MAAMQ,YAAY,GAAG,MAAM;IACzBf,aAAa,CAAC;MAAEgB,IAAI,EAAE,IAAR;MAAcd,MAAM,EAAE;IAAtB,CAAD,CAAb;EACD,CAFD;;EAIA,oBACE;IAAA,WACGH,UAAU,CAACG,MAAX,KAAsBV,YAAY,CAACyB,MAAnC,iBACC,QAAC,WAAD;MACE,KAAK,EAAElB,UAAU,CAACmB,KADpB;MAEE,OAAO,EAAEH,YAFX;MAGE,aAAa,EAAEJ;IAHjB;MAAA;MAAA;MAAA;IAAA,QAFJ,EASGZ,UAAU,CAACG,MAAX,KAAsBiB,YAAY,CAACC,IAAnC,iBACC,QAAC,SAAD;MACE,KAAK,EAAErB,UAAU,CAACE,KADpB;MAEE,OAAO,EAAEc,YAFX;MAGE,QAAQ,EAAEL;IAHZ;MAAA;MAAA;MAAA;IAAA,QAVJ,eAiBE;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,KAAf;QAAA,UACGb,MAAM,CAACwB,GAAP,CAAYpB,KAAD,iBACV,QAAC,UAAD;UACE,KAAK,EAAEA,KADT;UAGE,aAAa,EAAEK;QAHjB,GAEOL,KAAK,CAACa,EAFb;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAjBF;EAAA,gBADF;AA+BD;;GA5DelB,O;;KAAAA,O"},"metadata":{},"sourceType":"module"}