{"ast":null,"code":"var _jsxFileName = \"/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport OfferService from \"../../services/offer.service\";\nimport { OfferActions } from \"./offer-crud/OfferListConstants\";\nimport { OfferDelete } from \"./offer-crud/OfferDelete\";\nimport { OfferEdit } from \"./offer-crud/OfferEdit\";\nimport \"./Catalog.css\";\nimport { OfferView } from \"./offer-crud/OfferView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Catalog() {\n  _s();\n\n  const [offers, setOffers] = useState([]);\n  const [userAction, setUserAction] = useState({\n    offer: null,\n    action: null\n  });\n  useEffect(() => {\n    OfferService.getAllOffers().then(offer => setOffers(offer.data));\n  }, []);\n\n  const userActionClickHandler = (offerId, actionType) => {\n    OfferService.getOfferById(offerId).then(offer => {\n      setUserAction({\n        offer,\n        action: actionType\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OfferService.getAllOffers().then(offers => setOffers(offers.data));\n  };\n\n  const deleteHandler = offerId => {\n    setOffers(state => state.filter(offer => offer.id !== offerId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({\n      user: null,\n      action: null\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userAction.action === OfferActions.Delete && /*#__PURE__*/_jsxDEV(OfferDelete, {\n      offer: userAction.offer,\n      onClose: closeHandler,\n      deleteHandler: deleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), userAction.action === OfferActions.Edit && /*#__PURE__*/_jsxDEV(OfferEdit, {\n      offer: userAction.offer,\n      onClose: closeHandler,\n      onChange: onChangeHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"catalog-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: offers.length !== 0 ? offers.map(offer => /*#__PURE__*/_jsxDEV(OfferView, {\n            offer: offer,\n            onActionClick: userActionClickHandler\n          }, offer.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"searchResult\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Catalog, \"t/rTjMMIRBHrZ2ZWeSn2I6EJtjk=\");\n\n_c = Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["useState","useEffect","OfferService","OfferActions","OfferDelete","OfferEdit","OfferView","Catalog","offers","setOffers","userAction","setUserAction","offer","action","getAllOffers","then","data","userActionClickHandler","offerId","actionType","getOfferById","onChangeHandler","deleteHandler","state","filter","id","closeHandler","user","Delete","Edit","length","map"],"sources":["/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport OfferService from \"../../services/offer.service\";\nimport { OfferActions } from \"./offer-crud/OfferListConstants\";\nimport { OfferDelete } from \"./offer-crud/OfferDelete\";\nimport { OfferEdit } from \"./offer-crud/OfferEdit\";\nimport \"./Catalog.css\";\n\nimport { OfferView } from \"./offer-crud/OfferView\";\n\nexport function Catalog() {\n  const [offers, setOffers] = useState([]);\n  const [userAction, setUserAction] = useState({ offer: null, action: null });\n\n  useEffect(() => {\n    OfferService.getAllOffers().then((offer) => setOffers(offer.data));\n  }, []);\n\n  const userActionClickHandler = (offerId, actionType) => {\n    OfferService.getOfferById(offerId).then((offer) => {\n      setUserAction({\n        offer,\n        action: actionType,\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OfferService.getAllOffers().then((offers) => setOffers(offers.data));\n  };\n\n  const deleteHandler = (offerId) => {\n    setOffers((state) => state.filter((offer) => offer.id !== offerId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({ user: null, action: null });\n  };\n\n  return (\n    <>\n      {userAction.action === OfferActions.Delete && (\n        <OfferDelete\n          offer={userAction.offer}\n          onClose={closeHandler}\n          deleteHandler={deleteHandler}\n        />\n      )}\n\n      {userAction.action === OfferActions.Edit && (\n        <OfferEdit\n          offer={userAction.offer}\n          onClose={closeHandler}\n          onChange={onChangeHandler}\n        />\n      )}\n      <div className=\"catalog-section\">\n        <div className=\"container mt-100\">\n          <div className=\"row\">\n            {offers.length !== 0 ? (\n              offers.map((offer) => (\n                <OfferView\n                  offer={offer}\n                  key={offer.id}\n                  onActionClick={userActionClickHandler}\n                />\n              ))\n            ) : (\n              <div class=\"searchResult\">\n                <p>No Results</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,YAAT,QAA6B,iCAA7B;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,OAAO,eAAP;AAEA,SAASC,SAAT,QAA0B,wBAA1B;;;AAEA,OAAO,SAASC,OAAT,GAAmB;EAAA;;EACxB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC;IAAEY,KAAK,EAAE,IAAT;IAAeC,MAAM,EAAE;EAAvB,CAAD,CAA5C;EAEAZ,SAAS,CAAC,MAAM;IACdC,YAAY,CAACY,YAAb,GAA4BC,IAA5B,CAAkCH,KAAD,IAAWH,SAAS,CAACG,KAAK,CAACI,IAAP,CAArD;EACD,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMC,sBAAsB,GAAG,CAACC,OAAD,EAAUC,UAAV,KAAyB;IACtDjB,YAAY,CAACkB,YAAb,CAA0BF,OAA1B,EAAmCH,IAAnC,CAAyCH,KAAD,IAAW;MACjDD,aAAa,CAAC;QACZC,KADY;QAEZC,MAAM,EAAEM;MAFI,CAAD,CAAb;IAID,CALD;EAMD,CAPD;;EASA,MAAME,eAAe,GAAG,MAAM;IAC5BnB,YAAY,CAACY,YAAb,GAA4BC,IAA5B,CAAkCP,MAAD,IAAYC,SAAS,CAACD,MAAM,CAACQ,IAAR,CAAtD;EACD,CAFD;;EAIA,MAAMM,aAAa,GAAIJ,OAAD,IAAa;IACjCT,SAAS,CAAEc,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAcZ,KAAD,IAAWA,KAAK,CAACa,EAAN,KAAaP,OAArC,CAAZ,CAAT;EACD,CAFD;;EAIA,MAAMQ,YAAY,GAAG,MAAM;IACzBf,aAAa,CAAC;MAAEgB,IAAI,EAAE,IAAR;MAAcd,MAAM,EAAE;IAAtB,CAAD,CAAb;EACD,CAFD;;EAIA,oBACE;IAAA,WACGH,UAAU,CAACG,MAAX,KAAsBV,YAAY,CAACyB,MAAnC,iBACC,QAAC,WAAD;MACE,KAAK,EAAElB,UAAU,CAACE,KADpB;MAEE,OAAO,EAAEc,YAFX;MAGE,aAAa,EAAEJ;IAHjB;MAAA;MAAA;MAAA;IAAA,QAFJ,EASGZ,UAAU,CAACG,MAAX,KAAsBV,YAAY,CAAC0B,IAAnC,iBACC,QAAC,SAAD;MACE,KAAK,EAAEnB,UAAU,CAACE,KADpB;MAEE,OAAO,EAAEc,YAFX;MAGE,QAAQ,EAAEL;IAHZ;MAAA;MAAA;MAAA;IAAA,QAVJ,eAgBE;MAAK,SAAS,EAAC,iBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,kBAAf;QAAA,uBACE;UAAK,SAAS,EAAC,KAAf;UAAA,UACGb,MAAM,CAACsB,MAAP,KAAkB,CAAlB,GACCtB,MAAM,CAACuB,GAAP,CAAYnB,KAAD,iBACT,QAAC,SAAD;YACE,KAAK,EAAEA,KADT;YAGE,aAAa,EAAEK;UAHjB,GAEOL,KAAK,CAACa,EAFb;YAAA;YAAA;YAAA;UAAA,QADF,CADD,gBASC;YAAK,KAAK,EAAC,cAAX;YAAA,uBACE;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QAVJ;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAhBF;EAAA,gBADF;AAsCD;;GAnEelB,O;;KAAAA,O"},"metadata":{},"sourceType":"module"}