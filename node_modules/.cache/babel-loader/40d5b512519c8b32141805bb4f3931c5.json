{"ast":null,"code":"var _jsxFileName = \"/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/login/Login.js\",\n    _s = $RefreshSig$();\n\nimport \"./Login.css\";\nimport { useState, useContext } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\nimport Alert from \"@mui/material/Alert\";\nimport Stack from \"@mui/material/Stack\";\nimport AuthService from \"../../services/auth.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    onUpdate\n  } = useContext(ShoppingCartContext);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const formData = new FormData(event.currentTarget);\n    const username = formData.get(\"username\");\n    const password = formData.get(\"password\");\n\n    try {\n      if (username.length === 0 || password.length === 0) {\n        setError( /*#__PURE__*/_jsxDEV(Stack, {\n          sx: {\n            width: \"100%\"\n          },\n          spacing: 2,\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            children: \"Failed to Sign in. Username or password is incorrect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this));\n      } else {\n        setError(\"\");\n        await AuthService.login(username, password).then(() => onUpdate());\n        navigate(\"/\");\n      }\n    } catch {\n      setError( /*#__PURE__*/_jsxDEV(Stack, {\n        sx: {\n          width: \"100%\",\n          p: 2\n        },\n        spacing: 2,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: \"Failed to Sign in. Username or password is incorrect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this));\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"login_section\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-box-reg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"heading_container-login\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"img-wrapper-reg\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"reg-icon\",\n                  src: \"images/mechanic_2.png\",\n                  alt: \"sign-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this), error ? error : null, /*#__PURE__*/_jsxDEV(\"form\", {\n              method: \"post\",\n              onSubmit: handleSubmit,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-wrapper-login\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      placeholder: \"* Username\",\n                      name: \"username\",\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 69,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      name: \"password\",\n                      className: \"form-control\",\n                      placeholder: \"* Password\",\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reg-btn-wrapper\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"submit\",\n                      value: \"Sign in\",\n                      className: \"btn-login\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reg-verlink\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/register\",\n                      children: \"Don't have an account? Sign Up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"img-box\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"login-img-r\",\n              src: \"https://res.cloudinary.com/diozchjq4/image/upload/v1659902793/cars/mercedes-car-1_ixzkql.png\",\n              alt: \"login-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"tVJl9f3ayiEgfXje+no4qB5JsGI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useContext","useNavigate","Link","ShoppingCartContext","Alert","Stack","AuthService","Login","error","setError","navigate","onUpdate","handleSubmit","event","preventDefault","formData","FormData","currentTarget","username","get","password","length","width","login","then","p"],"sources":["/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/login/Login.js"],"sourcesContent":["import \"./Login.css\";\nimport { useState, useContext } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\n\nimport Alert from \"@mui/material/Alert\";\nimport Stack from \"@mui/material/Stack\";\n\nimport AuthService from \"../../services/auth.service\";\n\nexport const Login = () => {\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const { onUpdate } = useContext(ShoppingCartContext);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    const formData = new FormData(event.currentTarget);\n    const username = formData.get(\"username\");\n    const password = formData.get(\"password\");\n\n    try {\n      if (username.length === 0 || password.length === 0) {\n        setError(\n          <Stack sx={{ width: \"100%\" }} spacing={2}>\n            <Alert severity=\"error\">\n              Failed to Sign in. Username or password is incorrect\n            </Alert>\n          </Stack>\n        );\n      } else {\n        setError(\"\");\n        await AuthService.login(username, password).then(() => onUpdate());\n\n        navigate(\"/\");\n      }\n    } catch {\n      setError(\n        <Stack sx={{ width: \"100%\", p: 2 }} spacing={2}>\n          <Alert severity=\"error\">\n            Failed to Sign in. Username or password is incorrect\n          </Alert>\n        </Stack>\n      );\n    }\n  }\n\n  return (\n    <section className=\"login_section\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <div className=\"detail-box-reg\">\n              <div className=\"heading_container-login\">\n                <div className=\"img-wrapper-reg\">\n                  <img\n                    className=\"reg-icon\"\n                    src=\"images/mechanic_2.png\"\n                    alt=\"sign-icon\"\n                  />\n                </div>\n              </div>\n              {error ? error : null}\n              <form method=\"post\" onSubmit={handleSubmit}>\n                <div className=\"form-wrapper-login\">\n                  <div className=\"col-md-12\">\n                    <div className=\"form-group-1\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"* Username\"\n                        name=\"username\"\n                        required\n                      />\n                    </div>\n\n                    <div className=\"form-group-1\">\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"* Password\"\n                        required\n                      />\n                    </div>\n\n                    <div className=\"reg-btn-wrapper\">\n                      <input\n                        type=\"submit\"\n                        value=\"Sign in\"\n                        className=\"btn-login\"\n                      />\n                    </div>\n                    <div className=\"reg-verlink\">\n                      <Link to=\"/register\">Don't have an account? Sign Up</Link>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n          <div className=\"col-md-6\">\n            <div className=\"img-box\">\n              <img\n                className=\"login-img-r\"\n                src=\"https://res.cloudinary.com/diozchjq4/image/upload/v1659902793/cars/mercedes-car-1_ixzkql.png\"\n                alt=\"login-img\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}