{"ast":null,"code":"var _jsxFileName = \"/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport OrderService from \"../../services/order.service\";\nimport { OrderActions } from \"./OrderListConstants\";\nimport { OrderDelete } from \"./OrderDelete\";\nimport { OrderEdit } from \"./OrderEdit\";\nimport \"./Catalog.css\";\nimport { OrderdView } from \"./OrderView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Catalog() {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n  const [userAction, setUserAction] = useState({\n    order: null,\n    action: null\n  });\n  useEffect(() => {\n    OrderService.getAllOrders().then(orders => setOrders(orders.data));\n  }, []);\n  console.log(orders);\n\n  const userActionClickHandler = (orderId, actionType) => {\n    console.log(orderId);\n    OrderService.getOrderById(orderId).then(order => {\n      setUserAction({\n        order,\n        action: actionType\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OrderService.getAllOrders().then(orders => setOrders(orders.data));\n  };\n\n  const deleteHandler = orderId => {\n    setOrders(state => state.filter(order => order.id !== orderId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({\n      user: null,\n      action: null\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userAction.action === OrderActions.Delete && /*#__PURE__*/_jsxDEV(OrderDelete, {\n      order: userAction.order,\n      onClose: closeHandler,\n      deleteHandler: deleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), userAction.action === OrderActions.Edit && /*#__PURE__*/_jsxDEV(OrderEdit, {\n      order: userAction.order,\n      onClose: closeHandler,\n      onChange: onChangeHandler\n    }, order.data.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: orders.map(order => /*#__PURE__*/_jsxDEV(OrderdView, {\n          order: order,\n          onActionClick: userActionClickHandler\n        }, order.data.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Catalog, \"j0eJ9UNpq4IomBkCp8q18/791Ek=\");\n\n_c = Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["useState","useEffect","OrderService","OrderActions","OrderDelete","OrderEdit","OrderdView","Catalog","orders","setOrders","userAction","setUserAction","order","action","getAllOrders","then","data","console","log","userActionClickHandler","orderId","actionType","getOrderById","onChangeHandler","deleteHandler","state","filter","id","closeHandler","user","Delete","Edit","map"],"sources":["/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport OrderService from \"../../services/order.service\";\nimport { OrderActions } from \"./OrderListConstants\";\nimport { OrderDelete } from \"./OrderDelete\";\nimport { OrderEdit } from \"./OrderEdit\";\nimport \"./Catalog.css\";\n\nimport { OrderdView } from \"./OrderView\";\n\nexport function Catalog() {\n  const [orders, setOrders] = useState([]);\n  const [userAction, setUserAction] = useState({ order: null, action: null });\n\n  useEffect(() => {\n    OrderService.getAllOrders().then((orders) => setOrders(orders.data));\n  }, []);\n\n  console.log(orders);\n\n  const userActionClickHandler = (orderId, actionType) => {\n    console.log(orderId);\n    OrderService.getOrderById(orderId).then((order) => {\n      setUserAction({\n        order,\n        action: actionType,\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OrderService.getAllOrders().then((orders) => setOrders(orders.data));\n  };\n\n  const deleteHandler = (orderId) => {\n    setOrders((state) => state.filter((order) => order.id !== orderId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({ user: null, action: null });\n  };\n\n  return (\n    <>\n      {userAction.action === OrderActions.Delete && (\n        <OrderDelete\n          order={userAction.order}\n          onClose={closeHandler}\n          deleteHandler={deleteHandler}\n        />\n      )}\n\n      {userAction.action === OrderActions.Edit && (\n        <OrderEdit\n          key={order.data.id}\n          order={userAction.order}\n          onClose={closeHandler}\n          onChange={onChangeHandler}\n        />\n      )}\n\n      <div className=\"container mt-100\">\n        <div className=\"row\">\n          {orders.map((order) => (\n            <OrderdView\n              order={order}\n              key={order.data.id}\n              onActionClick={userActionClickHandler}\n            />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAO,eAAP;AAEA,SAASC,UAAT,QAA2B,aAA3B;;;AAEA,OAAO,SAASC,OAAT,GAAmB;EAAA;;EACxB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC;IAAEY,KAAK,EAAE,IAAT;IAAeC,MAAM,EAAE;EAAvB,CAAD,CAA5C;EAEAZ,SAAS,CAAC,MAAM;IACdC,YAAY,CAACY,YAAb,GAA4BC,IAA5B,CAAkCP,MAAD,IAAYC,SAAS,CAACD,MAAM,CAACQ,IAAR,CAAtD;EACD,CAFQ,EAEN,EAFM,CAAT;EAIAC,OAAO,CAACC,GAAR,CAAYV,MAAZ;;EAEA,MAAMW,sBAAsB,GAAG,CAACC,OAAD,EAAUC,UAAV,KAAyB;IACtDJ,OAAO,CAACC,GAAR,CAAYE,OAAZ;IACAlB,YAAY,CAACoB,YAAb,CAA0BF,OAA1B,EAAmCL,IAAnC,CAAyCH,KAAD,IAAW;MACjDD,aAAa,CAAC;QACZC,KADY;QAEZC,MAAM,EAAEQ;MAFI,CAAD,CAAb;IAID,CALD;EAMD,CARD;;EAUA,MAAME,eAAe,GAAG,MAAM;IAC5BrB,YAAY,CAACY,YAAb,GAA4BC,IAA5B,CAAkCP,MAAD,IAAYC,SAAS,CAACD,MAAM,CAACQ,IAAR,CAAtD;EACD,CAFD;;EAIA,MAAMQ,aAAa,GAAIJ,OAAD,IAAa;IACjCX,SAAS,CAAEgB,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAcd,KAAD,IAAWA,KAAK,CAACe,EAAN,KAAaP,OAArC,CAAZ,CAAT;EACD,CAFD;;EAIA,MAAMQ,YAAY,GAAG,MAAM;IACzBjB,aAAa,CAAC;MAAEkB,IAAI,EAAE,IAAR;MAAchB,MAAM,EAAE;IAAtB,CAAD,CAAb;EACD,CAFD;;EAIA,oBACE;IAAA,WACGH,UAAU,CAACG,MAAX,KAAsBV,YAAY,CAAC2B,MAAnC,iBACC,QAAC,WAAD;MACE,KAAK,EAAEpB,UAAU,CAACE,KADpB;MAEE,OAAO,EAAEgB,YAFX;MAGE,aAAa,EAAEJ;IAHjB;MAAA;MAAA;MAAA;IAAA,QAFJ,EASGd,UAAU,CAACG,MAAX,KAAsBV,YAAY,CAAC4B,IAAnC,iBACC,QAAC,SAAD;MAEE,KAAK,EAAErB,UAAU,CAACE,KAFpB;MAGE,OAAO,EAAEgB,YAHX;MAIE,QAAQ,EAAEL;IAJZ,GACOX,KAAK,CAACI,IAAN,CAAWW,EADlB;MAAA;MAAA;MAAA;IAAA,QAVJ,eAkBE;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,KAAf;QAAA,UACGnB,MAAM,CAACwB,GAAP,CAAYpB,KAAD,iBACV,QAAC,UAAD;UACE,KAAK,EAAEA,KADT;UAGE,aAAa,EAAEO;QAHjB,GAEOP,KAAK,CAACI,IAAN,CAAWW,EAFlB;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAlBF;EAAA,gBADF;AAgCD;;GAhEepB,O;;KAAAA,O"},"metadata":{},"sourceType":"module"}