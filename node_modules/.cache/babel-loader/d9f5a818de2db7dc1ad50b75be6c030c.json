{"ast":null,"code":"var _jsxFileName = \"/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport OrderService from \"../../services/order.service\";\nimport { OrderActions } from \"./OrderListConstants\";\nimport { OrderDelete } from \"./OrderDelete\";\nimport \"./Catalog.css\";\nimport { OrderdView } from \"./OrderView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Catalog() {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n  const [userAction, setUserAction] = useState({\n    order: null,\n    action: null\n  });\n  useEffect(() => {\n    OrderService.getAllOrders().then(orders => setOrders(orders.data));\n  }, []);\n  console.log(orders);\n\n  const userActionClickHandler = (orderId, actionType) => {\n    OrderService.getOrderById(orderId).then(order => {\n      setUserAction({\n        order,\n        action: actionType\n      });\n    });\n  };\n\n  const deleteHandler = orderId => {\n    setOrders(state => state.filter(order => order.id !== orderId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({\n      user: null,\n      action: null\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userAction.action === OrderActions.Delete && /*#__PURE__*/_jsxDEV(OrderDelete, {\n      order: userAction.order,\n      onClose: closeHandler,\n      deleteHandler: deleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: orders.map(order => /*#__PURE__*/_jsxDEV(OrderdView, {\n          order: order,\n          onActionClick: userActionClickHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Catalog, \"j0eJ9UNpq4IomBkCp8q18/791Ek=\");\n\n_c = Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["useState","useEffect","OrderService","OrderActions","OrderDelete","OrderdView","Catalog","orders","setOrders","userAction","setUserAction","order","action","getAllOrders","then","data","console","log","userActionClickHandler","orderId","actionType","getOrderById","deleteHandler","state","filter","id","closeHandler","user","Delete","map"],"sources":["/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport OrderService from \"../../services/order.service\";\nimport { OrderActions } from \"./OrderListConstants\";\nimport { OrderDelete } from \"./OrderDelete\";\nimport \"./Catalog.css\";\n\nimport { OrderdView } from \"./OrderView\";\n\nexport function Catalog() {\n  const [orders, setOrders] = useState([]);\n  const [userAction, setUserAction] = useState({ order: null, action: null });\n\n  useEffect(() => {\n    OrderService.getAllOrders().then((orders) => setOrders(orders.data));\n  }, []);\n\n  console.log(orders);\n\n  const userActionClickHandler = (orderId, actionType) => {\n    OrderService.getOrderById(orderId).then((order) => {\n      setUserAction({\n        order,\n        action: actionType,\n      });\n    });\n  };\n\n  const deleteHandler = (orderId) => {\n    setOrders((state) => state.filter((order) => order.id !== orderId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({ user: null, action: null });\n  };\n\n  return (\n    <>\n      {userAction.action === OrderActions.Delete && (\n        <OrderDelete\n          order={userAction.order}\n          onClose={closeHandler}\n          deleteHandler={deleteHandler}\n        />\n      )}\n\n      <div className=\"container mt-100\">\n        <div className=\"row\">\n          {orders.map((order) => (\n            <OrderdView order={order} onActionClick={userActionClickHandler} />\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,OAAO,eAAP;AAEA,SAASC,UAAT,QAA2B,aAA3B;;;AAEA,OAAO,SAASC,OAAT,GAAmB;EAAA;;EACxB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC;IAAEW,KAAK,EAAE,IAAT;IAAeC,MAAM,EAAE;EAAvB,CAAD,CAA5C;EAEAX,SAAS,CAAC,MAAM;IACdC,YAAY,CAACW,YAAb,GAA4BC,IAA5B,CAAkCP,MAAD,IAAYC,SAAS,CAACD,MAAM,CAACQ,IAAR,CAAtD;EACD,CAFQ,EAEN,EAFM,CAAT;EAIAC,OAAO,CAACC,GAAR,CAAYV,MAAZ;;EAEA,MAAMW,sBAAsB,GAAG,CAACC,OAAD,EAAUC,UAAV,KAAyB;IACtDlB,YAAY,CAACmB,YAAb,CAA0BF,OAA1B,EAAmCL,IAAnC,CAAyCH,KAAD,IAAW;MACjDD,aAAa,CAAC;QACZC,KADY;QAEZC,MAAM,EAAEQ;MAFI,CAAD,CAAb;IAID,CALD;EAMD,CAPD;;EASA,MAAME,aAAa,GAAIH,OAAD,IAAa;IACjCX,SAAS,CAAEe,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAcb,KAAD,IAAWA,KAAK,CAACc,EAAN,KAAaN,OAArC,CAAZ,CAAT;EACD,CAFD;;EAIA,MAAMO,YAAY,GAAG,MAAM;IACzBhB,aAAa,CAAC;MAAEiB,IAAI,EAAE,IAAR;MAAcf,MAAM,EAAE;IAAtB,CAAD,CAAb;EACD,CAFD;;EAIA,oBACE;IAAA,WACGH,UAAU,CAACG,MAAX,KAAsBT,YAAY,CAACyB,MAAnC,iBACC,QAAC,WAAD;MACE,KAAK,EAAEnB,UAAU,CAACE,KADpB;MAEE,OAAO,EAAEe,YAFX;MAGE,aAAa,EAAEJ;IAHjB;MAAA;MAAA;MAAA;IAAA,QAFJ,eASE;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,KAAf;QAAA,UACGf,MAAM,CAACsB,GAAP,CAAYlB,KAAD,iBACV,QAAC,UAAD;UAAY,KAAK,EAAEA,KAAnB;UAA0B,aAAa,EAAEO;QAAzC;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QATF;EAAA,gBADF;AAmBD;;GA9CeZ,O;;KAAAA,O"},"metadata":{},"sourceType":"module"}