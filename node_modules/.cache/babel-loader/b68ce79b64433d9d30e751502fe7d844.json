{"ast":null,"code":"var _jsxFileName = \"/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport LoadingSpinner from '../../components/spinner/LoadingSpinner';\nimport OfferService from \"../../services/offer.service\";\nimport { OfferActions } from \"./offer-crud/OfferListConstants\";\nimport { OfferDelete } from \"./offer-crud/OfferDelete\";\nimport { OfferEdit } from \"./offer-crud/OfferEdit\";\nimport \"./Catalog.css\";\nimport { OfferView } from \"./offer-crud/OfferView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Catalog() {\n  _s();\n\n  const [offers, setOffers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [userAction, setUserAction] = useState({\n    offer: null,\n    action: null\n  });\n  useEffect(() => {\n    OfferService.getAllOffers().then(offer => setOffers(offer.data));\n  }, []);\n\n  const userActionClickHandler = (offerId, actionType) => {\n    OfferService.getOfferById(offerId).then(offer => {\n      setUserAction({\n        offer,\n        action: actionType\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OfferService.getAllOffers().then(offers => setOffers(offers.data));\n  };\n\n  const deleteHandler = offerId => {\n    setOffers(state => state.filter(offer => offer.id !== offerId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({\n      user: null,\n      action: null\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [userAction.action === OfferActions.Delete && /*#__PURE__*/_jsxDEV(OfferDelete, {\n      offer: userAction.offer,\n      onClose: closeHandler,\n      deleteHandler: deleteHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), userAction.action === OfferActions.Edit && /*#__PURE__*/_jsxDEV(OfferEdit, {\n      offer: userAction.offer,\n      onClose: closeHandler,\n      onChange: onChangeHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"catalog-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-100\",\n        children: offers.length != 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: isLoading || models.length == 0 ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 48\n          }, this) : offers.map(offer => /*#__PURE__*/_jsxDEV(OfferView, {\n            offer: offer,\n            onActionClick: userActionClickHandler\n          }, offer.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchResult\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Catalog, \"bxIO94CDA6EwUHlNQ0vSgYtVp0I=\");\n\n_c = Catalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["useState","useEffect","LoadingSpinner","OfferService","OfferActions","OfferDelete","OfferEdit","OfferView","Catalog","offers","setOffers","isLoading","setIsLoading","userAction","setUserAction","offer","action","getAllOffers","then","data","userActionClickHandler","offerId","actionType","getOfferById","onChangeHandler","deleteHandler","state","filter","id","closeHandler","user","Delete","Edit","length","models","map"],"sources":["/Users/denisdanailov/Documents/secondparts-app/frontend/src/components/catalog/Catalog.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nimport LoadingSpinner from '../../components/spinner/LoadingSpinner'\nimport OfferService from \"../../services/offer.service\";\nimport { OfferActions } from \"./offer-crud/OfferListConstants\";\nimport { OfferDelete } from \"./offer-crud/OfferDelete\";\nimport { OfferEdit } from \"./offer-crud/OfferEdit\";\nimport \"./Catalog.css\";\n\nimport { OfferView } from \"./offer-crud/OfferView\";\n\nexport function Catalog() {\n  const [offers, setOffers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [userAction, setUserAction] = useState({ offer: null, action: null });\n\n  useEffect(() => {\n    OfferService.getAllOffers().then((offer) => setOffers(offer.data));\n  }, []);\n\n  const userActionClickHandler = (offerId, actionType) => {\n    OfferService.getOfferById(offerId).then((offer) => {\n      setUserAction({\n        offer,\n        action: actionType,\n      });\n    });\n  };\n\n  const onChangeHandler = () => {\n    OfferService.getAllOffers().then((offers) => setOffers(offers.data));\n  };\n\n  const deleteHandler = (offerId) => {\n    setOffers((state) => state.filter((offer) => offer.id !== offerId));\n  };\n\n  const closeHandler = () => {\n    setUserAction({ user: null, action: null });\n  };\n\n  return (\n    <>\n      {userAction.action === OfferActions.Delete && (\n        <OfferDelete\n          offer={userAction.offer}\n          onClose={closeHandler}\n          deleteHandler={deleteHandler}\n        />\n      )}\n\n      {userAction.action === OfferActions.Edit && (\n        <OfferEdit\n          offer={userAction.offer}\n          onClose={closeHandler}\n          onChange={onChangeHandler}\n        />\n      )}\n      <div className=\"catalog-section\">\n        <div className=\"container mt-100\">\n        {offers.length != 0 ? \n          <div className=\"row\">\n            {isLoading || models.length == 0 ? <LoadingSpinner /> : \n              offers.map((offer) => (\n                <OfferView\n                  offer={offer}\n                  key={offer.id}\n                  onActionClick={userActionClickHandler}\n                />\n                \n              ))\n              }\n          </div>\n          : \n              \n            <div className=\"searchResult\">\n              <p>No Results</p>\n            </div>\n          }\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}